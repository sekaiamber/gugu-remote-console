!function(e){function n(d){if(t[d])return t[d].exports;var o=t[d]={exports:{},id:d,loaded:!1};return e[d].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,n,t){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;if(e.length<=n)return e;var t=e.slice(0,n-3);return t+"..."}function a(e){var n=(0,r.default)("#networkRequestsModalContent");if(n.empty(),n.append("<h5>"+e.name+"</h5>"),n.append('<dl class="dl-horizontal"> <dt>Method</dt><dd>'+e.method+"</dd> </dl>"),n.append('<dl class="dl-horizontal"> <dt>URL</dt><dd>'+e.url+"</dd> </dl>"),e.done){n.append('<dl class="dl-horizontal"> <dt>Status</dt><dd>'+e.status+"</dd> </dl>"),n.append('<dl class="dl-horizontal"> <dt>Time</dt><dd>'+e.displayTime+"</dd> </dl>"),e.data&&n.append('<dl class="dl-horizontal"> <dt>Data</dt><dd>'+e.data+"</dd> </dl>"),n.append("<h6>Response</h6>"),n.append('<dl class="dl-horizontal"> <dt>Size</dt><dd>'+e.size+"</dd> </dl>");var t=(0,r.default)('<dl class="dl-horizontal"> <dt>Headers</dt> </dl>'),d=(0,r.default)("<dd></dd>");Object.keys(e.resHeaders).forEach(function(n){d.append("<div>"+n+" : "+e.resHeaders[n]+"</div>")}),t.append(d),n.append(t),n.append('<dl class="dl-horizontal"> <dt>Preview</dt><dd>'+e.resTxt+"</dd> </dl>")}else n.append('<dl class="dl-horizontal"> <dt>Status</dt><dd>Pending</dd> </dl>')}var s=t(29),r=d(s),l=t(28),i=d(l);t(19);var u=void 0;(0,r.default)(document).ready(function(){var e=(0,r.default)("#log"),n=(0,r.default)("#logs"),t=(0,r.default)("#command"),d=(0,r.default)("#commandResponse"),s=(0,r.default)("#commandResponseError"),l=(0,r.default)("#networkResourcesTableBody"),c=(0,r.default)("#networkRequestsTableBody"),p=(0,r.default)("#networkRequestsModal");(0,r.default)("#connect").click(function(){u&&u.disconnect(),u=new i.default(e.val(),{onLogAdd:function(e,t,d){for(var o=(0,r.default)('<div class="log" log-id="'+d+'"></div>'),a=0;a<e.length;a+=1)o.append((0,r.default)('<div class="log-part">'+e[a]+"</div>"));o.append((0,r.default)('<div class="caller">'+t+"</div>")),n.append(o)},onLogRemove:function(){n.empty()},onCommandResponse:function(e){if(e.success)d.html(e.data),s.empty();else{d.html(e.data.message);var n=t.val().split("\n");if(e.data.lineNumber){var o=n[e.data.lineNumber-1];if(e.data.columnNumber){var a=o.slice(0,e.data.columnNumber-1),r=o.slice(e.data.columnNumber),l=o[e.data.columnNumber-1];o=a+'<span class="error">'+l+"</span>"+r}o='<span class="error">'+o+"</span>",n[e.data.lineNumber-1]=o}n=n.join("\n"),s.html("<pre>"+n+"</pre>")}},onNetworkResourcesChange:function(e){l.empty();for(var n=0;n<e.length;n+=1){var t=e[n];l.append("<tr> <td>"+t.name+"</td> <td>"+t.initiatorType+"</td> <td>"+t.displayTime+"</td> <td>"+t.url+"</td> </tr>")}},onNetworkRequestsChange:function(e){c.empty();for(var n=function(n){var t=e[n],d=(0,r.default)("<a>"+o(t.name)+"<a>");d.click(function(){a(t),p.modal("show")});var s=(0,r.default)("<td></td>");s.append(d);var l=(0,r.default)("<tr> <td>"+t.status+"</td> <td>"+t.method+"</td> <td>"+t.subType+"</td> <td>"+t.size+"</td> <td>"+t.displayTime+"</td> </tr>");l.prepend(s),c.append(l)},t=0;t<e.length;t+=1)n(t)}})}),(0,r.default)("#send").click(function(){u&&u.sendCommand(t.val())})})},19:function(e,n){},28:function(e,n){"use strict";function t(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var d=n[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(n,t,d){return t&&e(n.prototype,t),d&&e(n,d),n}}(),a=void 0,s=void 0,r=void 0,l=void 0,i=function(){function e(n){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,e),this.wilddog=window.wilddog,this.uuid=n,o.onLogAdd&&(this.onLogAdd=o.onLogAdd),o.onLogRemove&&(this.onLogRemove=o.onLogRemove),o.onCommandResponse&&(this.onCommandResponse=o.onCommandResponse),o.onNetworkResourcesChange&&(this.onNetworkResourcesChange=o.onNetworkResourcesChange),o.onNetworkRequestsChange&&(this.onNetworkRequestsChange=o.onNetworkRequestsChange);var i={syncURL:"https://remote-console.wilddogio.com/"};this.wilddog.initializeApp(i),this.sync=this.wilddog.sync(),a=this.sync.ref("screens/"+this.uuid),s=this.sync.ref("commands/"+this.uuid),r=this.sync.ref("networks/"+this.uuid+"/resources"),l=this.sync.ref("networks/"+this.uuid+"/requests"),a.endAt(0).limitToLast(10).on("child_added",function(e){var n=e.val();t.onLogAdd(n.log,n.caller,e.key())}),a.on("child_removed",function(e){t.onLogRemove(e.key())}),s.child("response").on("value",function(e){var n=e.val();n&&t.onCommandResponse(n)}),r.on("value",function(e){var n=e.val();n?t.onNetworkResourcesChange(JSON.parse(n)):t.onNetworkResourcesChange([])}),l.on("value",function(e){var n=e.val();n?t.onNetworkRequestsChange(JSON.parse(n)):t.onNetworkRequestsChange([])})}return o(e,[{key:"onLogAdd",value:function(e){var n;(n=console).log.apply(n,t(e))}},{key:"onLogRemove",value:function(){}},{key:"sendCommand",value:function(e){var n={data:e,id:(new Date).getTime()+"_"+parseInt(100*Math.random(),10)};s.update({command:n})}},{key:"onCommandResponse",value:function(){}},{key:"onNetworkResourcesChange",value:function(){}},{key:"onNetworkRequestsChange",value:function(){}},{key:"disconnect",value:function(){this.wilddog.sync().goOffline()}}]),e}();n.default=i},29:function(e,n){e.exports=$}});